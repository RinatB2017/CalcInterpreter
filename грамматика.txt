http://ru.wikipedia.org/wiki/Расширенная_форма_Бэкуса_—_Наура

Вместо некоторых терминалов (MUL, DIV, LP, ...) для наглядности
записаны соответствующие им лексемы, заключённые в '':
'*', '/', '(', ...
Начиная с символов '//' - и до конца строки - комметарий


program = 
	{ ';' | intsr } EXIT
	
intsr = 
		if_
	|	expr ';'
	|	void_func ';'
	|	sys_equation

sys_equation =
	'{' equation { ',' equation } '}'
	
equation =
	expr '===' expr // проверка типов и значений отсечёт ненуравнения, например 2===6

block = 
		'{'	{ ';' | instr } '}'
	|	instr ';'
	
if_ =
		IF '(' expr ')' block
	|	IF '(' expr ')' block ELSE block

while =
	'while' ( bool ) stmt
	
do=
	'do' stmt 'while' ( bool ) ; 

	
expr =
		term '+' expr
	|	term '(+)' expr // сложение по модулю 2
	|	term '-' expr
	|	term
	
term =
		persent '*' term
	|	persent '/' term
	|	persent
	
// 100+100+2^3% == 216
persent =
		power '%'
	|	power

power =
		factorial '^' power
	|	factorial

factorial =
	prim { '!' }
	
prim =
		NUMBER
	|	USER_DEFINED_NAME
	|	USER_DEFINED_NAME '=' expr
	|	USER_DEFINED_NAME '(' vector_dim ')' '=' vector
	|	vector
	|	vector postfix_func // постфиксная ф-я, например транспонирование
	|	'-' prim
	|	func
	
vector =
	'(' expr { ',' expr } ')'
	
	
vector_dim =
	USER_DEFINED_NAME { ',' USER_DEFINED_NAME }

func =
		of_radian '(' expr ')'
	|	returns_radian '(' expr ')'
	|	dimensionless '(' expr ')' // безразмерные ф-ии, например LOG

dimensionless =
		D // дифференциал
	|	INTEGRATE // интеграл
	|	LOG

of_radian =
		SIN
	|	COS

returns_radian =
		ARCSIN
	|	ARCCOS

void_func =
		print
	|	add
	|	del
	|	reset
	|	set
	|	help
	|	state
	
print =
		PRINT
	|	PRINT expr

add =
		USER_DEFINED_NAME
	|	USER_DEFINED_NAME '=' expr
	
del =
		DEL '*'
	|	DEL USER_DEFINED_NAME
	
reset =
		RESET '*'
	|	RESET setname
	|	RESET TABLE
	
set =
	SET setname '=' currTok
	
setname =
	ARGS_AUTO_END | AUTO_END | PRINT_TOKENS
	| PRECISION | ERRORS | STRICTED | AUTO_PRINT | GREEDY_FUNC
	
help =
	HELP
	
state =
	STATE